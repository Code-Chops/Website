@page "_Host"
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title>CodeChops</title>
        <base href="/" />
        <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
        <link href="css/app.css" rel="stylesheet" />
        <link href="Website.Client.styles.css" rel="stylesheet" />
        <script src="_content/Microsoft.AspNetCore.Components.WebAssembly.Authentication/AuthenticationService.js"></script>
        <script src="https://kit.fontawesome.com/6ad8956052.js" crossorigin="anonymous"></script>
        <script src="highlight/highlight.js"></script>
        <script src="highlight/csharp.min.js"></script>
        <link rel="stylesheet" href="highlight/vs2015.min.css"/>
        <script>
            window.highlightCode = function(){
                    document.querySelectorAll('pre code').forEach((element)=>{
                        hljs.highlightBlock(element);
                    });
                }
        </script>
    </head>

    <body>
        <persist-component-state />
        @* Do not use prerendered pages when authentication is involved *@
        @if (HttpContext.Request.Path.StartsWithSegments("/authentication"))
        {
            <text>Loading...</text>
        }
        else
        {
            <component type="typeof(CodeChops.Website.Client.App)" render-mode="WebAssemblyPrerendered" />
        }
        
        <div id="blazor-error-ui">
            An unhandled error has occurred.
            <a href="" class="reload">Reload</a>
            <a class="dismiss">🗙</a>
        </div>
        <script src="_framework/blazor.webassembly.js"></script>
    </body>
</html>